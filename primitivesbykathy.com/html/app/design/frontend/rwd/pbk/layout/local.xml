<?xml version="1.0"?>

<layout version="0.1.0">
    <default>
        <reference name="head">
            <action method="addLinkRel"><rel>stylesheet</rel><href>//fonts.googleapis.com/css?family=Lato: 300, 300italic, 400, 400italic, 700, 700italic, 900,900italic</href></action>

            <!-- CSS -->
            <action method="addItem" after="-"><type>skin_css</type><name>css/override-theme.css</name><params/></action>

            <action method="removeItem"><type>js</type>><name>js/jquery/jquery-min.js</name></action>
            <action method="removeItem"><type>skin_css</type><name>css/iwd/b2b/styles.css</name></action>
        </reference>

        <reference name="top.links">

            <remove name="wishlist_link"/>
            <remove name="checkout_cart_link"/>
            <block type="customer/form_login" name="header_customer_form_mini_login"  template="customer/form/mini.login.phtml"/>

        </reference>
        <reference name="header">

            <block type="wishlist/customer_sidebar" name="wishlist_sidebar" as="mini_wishlist_top" after="cart_sidebar" template="wishlist/top-mini.phtml" />

        </reference>

        <!-- reset the template for wishlist in sidebar -->
        <reference name="right">
            <action method="unsetChild">
                <alias>wishlist</alias>
            </action>
            <!-- add a new wishlist block using desired template here-->

        </reference>

        <!--add a custom position for inserting widget: top in the main content area -->
        <reference name="content">
            <block type="core/text_list" name="widgets_content_top" as="widgets_content_top" translate="label" before="-"> <label>Widgets Content Top</label> </block>
        </reference>
        <!--add a custom position for inserting widget: top container -->
        <reference name="top.container">
            <block type="core/text_list" name="widgets_page_top" as="widgets_page_top" translate="label"> <label>Widgets Page Top</label> </block>
        </reference>


       <!-- <reference name="footer">
            <block type="cms/block" name="footer_bottom" after="-">
                <action method="setBlockId"><block_id>footer_bottom</block_id></action>
            </block>
        </reference>-->


        <reference name="footer">
            <remove name="footer_links"/>
            <remove name="footer_links2"/>
            <remove name="footer_links_company"/>
            <block type="cms/block" name="footer_column1" before="-">
                <action method="setBlockId"><block_id>footer_column1</block_id></action>
            </block>
            <block type="cms/block" name="footer_column2" after="footer_column1">
                <action method="setBlockId"><block_id>footer_column2</block_id></action>
            </block>
            <block type="cms/block" name="footer_column3" after="footer_column2">
                <action method="setBlockId"><block_id>footer_column3</block_id></action>
            </block>
            <block type="cms/block" name="footer_column4" after="footer_column3">
                <action method="setBlockId"><block_id>footer_column4</block_id></action>
            </block>

        </reference>

    </default>
<!-- set layout of catalog pages to 2columns-left -->
    <catalog_category_layered>

        <reference name="root">
           <action method="setTemplate">
            <template>page/2columns-left.phtml</template>
           </action>
         </reference>
    </catalog_category_layered>

    <!--add slider to homepage -->
    <cms_index_index>
        <reference name="header">
            <block type="cms/block" name="slider" after="-">
                <action method="setBlockId"><block_id>slider</block_id></action>
            </block>
        </reference>
    </cms_index_index>

<!-- add breadcrumbs to my account -->
    <customer_account translate="label">
        <reference name="breadcrumbs">
            <action method="addCrumb">
                <crumbname>Home</crumbname>
                <crumbinfo>
                    <label>Home</label>
                    <title>Home</title>
                    <link>{{baseUrl}}</link>
                </crumbinfo>
            </action>
            <action method="addCrumb">
                <crumbname>My Account</crumbname>
                <crumbinfo>
                    <label>My Account</label>
                    <title>My Account</title>
                    <link>{{baseUrl}}/customer/account</link>
                </crumbinfo>
            </action>
        </reference>
    </customer_account>

    <customer_account>
        <reference name="content">
            <action method="unsetChild"><alias>widgets_content_top</alias></action>
        </reference>

    </customer_account>
    <customer_account_index translate="label">
        <reference name="breadcrumbs">
            <action method="addCrumb">
                <crumbname>Dashboard</crumbname>
                <crumbinfo>
                    <label>Dashboard</label>
                    <title>Dashboard</title>
                </crumbinfo>
            </action>
        </reference>

        <!-- move widget banners down after welcome messages -->

        <reference name="customer_account_dashboard">
            <action method="insert">
                <blockName>widgets_content_top</blockName>
                <alias>widgets_content_top</alias>
            </action>
        </reference>


    </customer_account_index>

    <!-- add breadcrumb for account information-->
    <customer_account_edit translate="label">
        <reference name="breadcrumbs">
            <action method="addCrumb">
                <crumbname>Account Information</crumbname>
                <crumbinfo>
                    <label>Account Information</label>
                    <title>Account Information</title>

                </crumbinfo>
            </action>
        </reference>
    </customer_account_edit>
    <!-- add breadcrumb for address-->
    <customer_address_index translate="label">
        <reference name="breadcrumbs">
            <action method="addCrumb">
                <crumbname>Address Book</crumbname>
                <crumbinfo>
                    <label>Address Book</label>
                    <title>Address Book</title>

                </crumbinfo>
            </action>
        </reference>
    </customer_address_index>
    <customer_address_form translate="label">
        <reference name="breadcrumbs">
            <action method="addCrumb">
                <crumbname>Address Book</crumbname>
                <crumbinfo>
                    <label>Address Book</label>
                    <title>Address Book</title>
                    <link>{{baseUrl}}/customer/address</link>
                </crumbinfo>
            </action>
            <action method="addCrumb">
                <crumbname>Edit Address</crumbname>
                <crumbinfo>
                    <label>Edit Address</label>
                    <title>Address Book</title>
                </crumbinfo>
            </action>
        </reference>
    </customer_address_form>

<!-- add breadcrumb for my orders-->
    <sales_order_history translate="label">
        <reference name="breadcrumbs">
            <action method="addCrumb">
                <crumbname>My Orders</crumbname>
                <crumbinfo>
                    <label>My Orders</label>
                    <title>My Orders</title>

                </crumbinfo>
            </action>
        </reference>
    </sales_order_history>

    <!-- add breadcrumb for individual order item -->
    <sales_order_view translate="label">
        <reference name="breadcrumbs">
            <action method="setTemplate"><template>page/html/breadcrumbs_order.phtml</template></action>
            <action method="addCrumb">
                <crumbname>My Orders</crumbname>
                <crumbinfo>
                    <label>My Orders</label>
                    <title>My Orders</title>
                    <link>{{baseUrl}}/sales/order/history/</link>
                </crumbinfo>
            </action>
            <action method="addCrumb">
                <crumbname>Order View</crumbname>
                <crumbinfo>
                    <label>Order </label>
                    <title>Order View</title>
                </crumbinfo>
            </action>
        </reference>


        <reference name="order_items">
            <action method="addItemRender"><type>default</type><block>sales/order_item_renderer_default</block><template>sales/order/items/renderer/default_account.phtml</template></action>
        </reference>

    </sales_order_view>

    <!-- add breadcrumb for my wishlist-->
    <wishlist_index_index translate="label">
        <reference name="breadcrumbs">
            <action method="addCrumb">
                <crumbname>My Wish List</crumbname>
                <crumbinfo>
                    <label>My Wish List</label>
                    <title>My Wish List</title>

                </crumbinfo>
            </action>
        </reference>
    </wishlist_index_index>

    <!-- remove my order from account sidebar -->
    <customer_account translate="label">

        <remove name="sale.reorder.sidebar"/>
    </customer_account>

    <!-- add breadcrumbs to login page -->
    <customer_account_login translate="label">
        <reference name="breadcrumbs">
            <action method="addCrumb">
                <crumbname>Home</crumbname>
                <crumbinfo>
                    <label>Home</label>
                    <title>Home</title>
                    <link>{{baseUrl}}</link>
                </crumbinfo>
            </action>
            <action method="addCrumb">
                <crumbname>Sign In</crumbname>
                <crumbinfo>
                    <label>Sign In</label>
                    <title>Sign In</title>

                </crumbinfo>
            </action>
        </reference>
<!--remove banner from login page -->
        <reference name="content">
            <action method="unsetChild"><alias>widgets_content_top</alias></action>
        </reference>
    </customer_account_login>

    <!-- add breadcrumbs to shopping cart -->
    <checkout_cart_index translate="label">
        <reference name="breadcrumbs">
            <action method="addCrumb">
                <crumbname>Home</crumbname>
                <crumbinfo>
                    <label>Home</label>
                    <title>Home</title>
                    <link>{{baseUrl}}</link>
                </crumbinfo>
            </action>
            <action method="addCrumb">
                <crumbname>My Shopping Cart</crumbname>
                <crumbinfo>
                    <label>My Shopping Cart</label>
                    <title>My Shopping Cart</title>

                </crumbinfo>
            </action>
        </reference>

    </checkout_cart_index>

    <!-- product layout -->
    <catalog_product_view>
        <reference name="root">
            <action method="setTemplate"><template>page/1column.phtml</template></action>
        </reference>
    </catalog_product_view>

    <!-- add links to My account left nav -->
    <customer_account>
        <reference name="customer_account_navigation">
            <action method="addLink" translate="label" module="checkout">
                <name>cart</name>
                <path>checkout/cart/</path>
                <label>My Cart/Checkout</label>
            </action>

        </reference>
    </customer_account>

    <!--Add recently viewed products to product page-->
    <catalog_product_view translate="label">
        <reference name="content">
            <block type="reports/product_viewed" name="product.recently.viewed" as="product_recently_viewed" template="reports/product_viewed-grid.phtml"/>
            <block type="cms/block" name="ordering_info_pdp" after="-">
                <action method="setBlockId"><block_id>ordering_info_pdp</block_id></action>
            </block>
        </reference>
    </catalog_product_view>

    <!-- Quickview Template -->
   <!--<PRODUCT_QUICKVIEW>
        <reference name="product.info">
            <action method="setTemplate"><template>catalog/product/view_quickview.phtml</template></action>
        </reference>
    </PRODUCT_QUICKVIEW>-->

    <!--update layout of quickview -->
    <amquickview_ajax_view>

      <reference name="product.info">
            <action method="setTemplate"><template>catalog/product/view_quickview.phtml</template></action>
        </reference>

        <remove name="product.recently.viewed"/>
        <remove name="ordering_info_pdp"/>
        <!-- remove widgets from quick view -->
        <remove name="widgets_content_top"/>

    </amquickview_ajax_view>


  <checkout_onepage_index>


      <!-- remove widgets from checkout page -->
      <remove name="widgets_content_top"/>
      <remove name="widgets_page_top"/>

    </checkout_onepage_index>

    <!-- missing head content for b2b register page -->
    <b2b_account_register>
        <reference name="head">
            <action method="addCss"><stylesheet>css/iwd/b2b/styles.css</stylesheet></action>
            <action method="addCss"><stylesheet>css/iwd/b2b/bootstrap.css</stylesheet></action>
            <action method="addCss"><stylesheet>css/iwd/b2b/media/signin.css</stylesheet></action>
            <action method="addCss"><stylesheet>css/iwd/b2b/media/register.css</stylesheet></action>
            <action method="addCss"><stylesheet>css/iwd/b2b/media/global.css</stylesheet></action>
            <action method="addCss"><stylesheet>css/iwd/b2b/datepicker3.css</stylesheet></action>

            <!--<action method="addItem"><type>skin_js</type><name>js/iwd/b2b/jquery-1.11.1.min.js</name></action>-->
            <action method="addItem"><type>skin_js</type><name>js/iwd/b2b/bootstrap.min.js</name></action>
            <action method="addItem"><type>skin_js</type><name>js/iwd/b2b/bootstrap-datepicker.js</name></action>
            <action method="addItem"><type>skin_js</type><name>js/iwd/b2b/application.js</name></action>
            <action method="addItem"><type>skin_js</type><name>js/iwd/b2b/plugin/login.js</name></action>
            <action method="addItem"><type>skin_js</type><name>js/iwd/b2b/plugin/decorator.js</name></action>
            <action method="addItem"><type>skin_js</type><name>js/iwd/b2b/plugin/register.js</name></action>
        </reference>

    </b2b_account_register>

</layout>